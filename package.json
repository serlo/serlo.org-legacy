{
  "name": "@serlo/serlo.org-workspace",
  "version": "0.0.0",
  "private": true,
  "bugs": {
    "url": "https://github.com/serlo/serlo.org/issues"
  },
  "repository": "serlo/serlo.org",
  "license": "Apache-2.0",
  "author": "Serlo Education e.V.",
  "workspaces": [
    "packages/private/*",
    "packages/public/*"
  ],
  "scripts": {
    "_prettier": "prettier .",
    "build": "lerna run --stream build",
    "c": "docker-compose run --rm server-composer",
    "deploy:images": "lerna run --stream deploy:image",
    "predeploy:packages": "lerna run --stream build --scope=@serlo/{client,static-assets} --include-filtered-dependencies",
    "deploy:packages": "lerna run --stream deploy:package",
    "down:server": "docker-compose down",
    "dump:sql": "ts-node scripts/mysql-dump",
    "format": "yarn _prettier --write",
    "i18n:regenerate": "lerna run i18n:regenerate",
    "license": "ts-node scripts/license-headers",
    "lint": "npm-run-all --parallel \"lint:*\"",
    "lint:prettier": "yarn _prettier --check",
    "lint:tsc": "tsc --noEmit",
    "migrate": "docker-compose run --rm server-migrate",
    "migrate:up": "yarn migrate up",
    "mysql": "docker-compose exec mysql mysql --user=root --password=secret serlo",
    "mysql:dump": "ts-node scripts/mysql-dump.ts",
    "mysql:import-anonymous-data": "ts-node scripts/mysql-import-anonymous-data",
    "mysql:rollback": "ts-node scripts/mysql-rollback",
    "oauth": "npm-run-all -s -c oauth:clear oauth:client oauth:user",
    "oauth:clear": "docker-compose run hydra clients delete test_client --endpoint http://hydra:4445",
    "oauth:client": "docker-compose run hydra clients create --skip-tls-verify --endpoint http://hydra:4445 --id test_client --secret CHANGEMENOWOMG --grant-types authorization_code --response-types code --scope openid,email --callbacks http://127.0.0.1:4446/callback --token-endpoint-auth-method client_secret_post",
    "oauth:frontend": "npm-run-all -s -c oauth:frontend:clear oauth:frontend:client",
    "oauth:frontend:clear": "docker-compose run hydra clients delete frontend.serlo.org --endpoint http://hydra:4445",
    "oauth:frontend:client": "docker-compose run hydra clients create --skip-tls-verify --endpoint http://hydra:4445 --id frontend.serlo.org --secret frontend.serlo.org --grant-types authorization_code --response-types code --scope openid,offline_access --callbacks http://localhost:3000/api/auth/callback --post-logout-callbacks http://localhost:3000/api/auth/logout-callback --token-endpoint-auth-method client_secret_post",
    "oauth:user": "docker-compose run -p 4446:4446 hydra token user --skip-tls-verify --client-id test_client --client-secret CHANGEMENOWOMG --port 4446 --auth-url http://localhost:4444/oauth2/auth --token-url http://hydra:4444/oauth2/token --scope openid,email",
    "start": "npm-run-all start:server start:client",
    "start:client": "lerna run --stream --scope=@serlo/client start",
    "prestart:server": "yarn c install",
    "start:server": "npm-run-all start:server:composer start:server:docker",
    "start:server:composer": "yarn c install",
    "start:server:docker": "docker-compose up --build --detach",
    "stop:server": "docker-compose stop",
    "test:e2e": "jest --config ./jest.config-e2e.js --maxWorkers 1",
    "test:js": "npm-run-all \"test:js:*\"",
    "test:js:client": "jest",
    "test:js:ssr": "jest --config ./jest.config-ssr.js",
    "test:php": "docker-compose run --rm server-php src/vendor/bin/phpunit"
  },
  "resolutions": {
    "jest": "^27.0.0"
  },
  "devDependencies": {
    "@babel/cli": "^7.17.10",
    "@babel/core": "^7.18.5",
    "@babel/plugin-proposal-class-properties": "^7.17.12",
    "@babel/plugin-proposal-export-namespace-from": "^7.17.12",
    "@babel/plugin-proposal-function-sent": "^7.18.2",
    "@babel/plugin-proposal-json-strings": "^7.17.12",
    "@babel/plugin-proposal-numeric-separator": "^7.16.7",
    "@babel/plugin-proposal-throw-expressions": "^7.16.7",
    "@babel/plugin-syntax-dynamic-import": "^7.8.3",
    "@babel/plugin-syntax-import-meta": "^7.10.4",
    "@babel/plugin-transform-runtime": "^7.18.5",
    "@babel/preset-env": "^7.18.2",
    "@babel/preset-react": "^7.17.12",
    "@babel/preset-typescript": "^7.17.12",
    "@inyono/copyright-headers": "^0.2.0",
    "@prettier/plugin-php": "^0.18.8",
    "@types/glob": "^7.2.0",
    "@types/jest": "^28.1.3",
    "@types/jest-environment-puppeteer": "^5.0.2",
    "@types/node": "^16.11.41",
    "@types/ramda": "^0.28.14",
    "@types/rimraf": "^3.0.2",
    "babel-plugin-module-resolver": "^4.1.0",
    "cross-env": "^7.0.3",
    "glob": "^8.0.3",
    "jest": "^28.1.1",
    "jest-puppeteer": "^6.1.0",
    "lerna": "^5.1.4",
    "npm-run-all": "^4.1.5",
    "prettier": "^2.7.1",
    "prettier-plugin-packagejson": "^2.2.18",
    "puppeteer": "^13.7.0",
    "ramda": "^0.28.0",
    "rimraf": "^3.0.2",
    "ts-jest": "^28.0.5",
    "ts-node": "^10.8.1",
    "typescript": "^4.7.4"
  },
  "packageManager": "yarn@3.2.0",
  "engines": {
    "node": "^16.0.0"
  }
}
